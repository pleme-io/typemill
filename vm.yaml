version: '2.0'
provider: docker
os: auto
project:
  hostname: dev.typemill.local
  name: typemill
  workspace_path: /workspace
vm:
  box: '@vibe-box'
  cpus: 6
  gui: false
  memory: 8192
  port_binding: 127.0.0.1
  swap: 2048
  swappiness: 60
  timezone: auto
  user: developer
  # Use snapshot's native UID/GID (1000:1000) to avoid conflicts
  # This enables sharing snapshots across multiple machines
  uid: 1000
  gid: 1000
versions:
  node: '22'
  python: '3.11'
ports:
  _range: [3360, 3369]
apt_packages:
  - tree
  - ripgrep
  - unzip
  - htop
  - openjdk-17-jre-headless  # Required for Java parser tests
npm_packages:
  - '@anthropic-ai/claude-code'
  - '@google/gemini-cli'
  - '@openai/codex'
pip_packages:
  - anthropic
terminal:
  emoji: ðŸš€
  show_git_branch: true
  show_timestamp: false
  theme: dracula
  username: typemill-dev
aliases:
  claudeyolo: claude --dangerously-skip-permissions
  codexyolo: codex --dangerously-bypass-approvals-and-sandbox
  geminiyolo: GEMINI_API_KEY=${GEMINI_API_KEY:-} gemini --approval-mode=yolo
host_sync:
  git_config: true
  ai_tools: false
networking: {}
