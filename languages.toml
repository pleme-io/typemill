# Language Plugin Registry
#
# This is the single source of truth for all language plugins in TypeMill.
# Extra languages live in the separate typemill-languages repo and are not listed here.
# Run `cargo xtask sync-languages` after modifying to regenerate feature flags.
#
# Schema:
#   [languages.<name>]
#   path = "crates/mill-lang-<name>"      # Path to plugin crate
#   plugin_struct = "PluginStructName"     # Exported plugin struct
#   category = "full" | "config"           # Full lang or config-only
#   default = true | false                 # Include in default build
#
# Propagation rules:
#   - full:   services, ast, plugin-system, transport, plugin-bundle, server, app
#   - config: plugin-bundle, server, app (skip lower layers)

[languages.rust]
path = "crates/mill-lang-rust"
plugin_struct = "RustPlugin"
category = "full"
default = true

[languages.typescript]
path = "crates/mill-lang-typescript"
plugin_struct = "TypeScriptPlugin"
category = "full"
default = true

[languages.python]
path = "crates/mill-lang-python"
plugin_struct = "PythonPlugin"
category = "full"
default = true

[languages.markdown]
path = "crates/mill-lang-markdown"
plugin_struct = "MarkdownPlugin"
category = "full"  # Has full AST/analysis support
default = true

[languages.toml]
path = "crates/mill-lang-toml"
plugin_struct = "TomlLanguagePlugin"
category = "config"
default = true

[languages.yaml]
path = "crates/mill-lang-yaml"
plugin_struct = "YamlLanguagePlugin"
category = "config"
default = true

[languages.gitignore]
path = "crates/mill-lang-gitignore"
plugin_struct = "GitignoreLanguagePlugin"
category = "config"
default = true

[languages.svelte]
path = "crates/mill-lang-svelte"
plugin_struct = "SveltePlugin"
category = "full"
default = true

[languages.shell]
path = "crates/mill-lang-shell"
plugin_struct = "ShellPlugin"
category = "config"
default = true

[languages.zig]
path = "crates/mill-lang-zig"
plugin_struct = "ZigPlugin"
category = "full"
default = true

[languages.lua]
path = "crates/mill-lang-lua"
plugin_struct = "LuaPlugin"
category = "full"
default = true

# Future languages (examples, for typemill-languages repo):
#
# [languages.go]
# path = "typemill-languages/mill-lang-go"
# plugin_struct = "GoPlugin"
# category = "full"
# default = false
#
