[package]
name = "cb-ast"
version = "0.1.0"
edition = "2021"
description = "AST parsing and transformation for Codeflow Buddy"
license = "MIT"

[dependencies]
cb-core = { path = "../cb-core" }
serde = { workspace = true }
serde_json = { workspace = true }
thiserror = { workspace = true }
chrono = { version = "0.4", features = ["serde"] }
# SWC dependencies for true AST parsing (latest compatible versions)
swc_common = "14"
swc_ecma_parser = "24"
swc_ecma_ast = "15"
swc_ecma_visit = "15"
# Enhanced parsing with regex (kept for fallback)
regex = "1.10"
# Python AST parsing
rustpython-parser = "0.3"
# Additional utilities
indexmap = "2.0"
petgraph = "0.6" # For dependency graph analysis
pathdiff = "0.2" # For calculating relative paths
tokio = { workspace = true } # For async file operations in import_updater
tracing = { workspace = true } # For logging in import_updater
dashmap = "5.5" # For thread-safe concurrent caching

[dev-dependencies]
tempfile = "3.0"